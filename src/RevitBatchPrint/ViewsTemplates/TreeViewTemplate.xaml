<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:vms="clr-namespace:RevitBatchPrint.ViewModels"
                    xmlns:b="http://schemas.microsoft.com/xaml/behaviors">

    <HierarchicalDataTemplate
        x:Key="TreeViewTemplate"
        DataType="{x:Type vms:AlbumViewModel}"
        ItemsSource="{Binding Path=FilteredSheets}">

        <StackPanel
            Orientation="Horizontal">
            <CheckBox
                IsChecked="{Binding IsSelected}">
                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="Click">
                        <b:InvokeCommandAction
                            Command="{Binding CheckCommand}" />
                    </b:EventTrigger>
                </b:Interaction.Triggers>
            </CheckBox>

            <TextBlock
                VerticalAlignment="Center"
                Text="{Binding Name}" />
        </StackPanel>


        <HierarchicalDataTemplate.ItemTemplate>
            <DataTemplate
                DataType="{x:Type vms:SheetViewModel}">

                <StackPanel
                    Orientation="Horizontal">
                    <CheckBox
                        IsChecked="{Binding IsSelected}" >
                        <b:Interaction.Triggers>
                            <b:EventTrigger EventName="Click">
                                <b:InvokeCommandAction
                                    Command="{Binding Album.CheckUpdateCommand}" />
                            </b:EventTrigger>
                        </b:Interaction.Triggers>
                    </CheckBox>

                    <TextBlock
                        VerticalAlignment="Center"
                        Text="{Binding Name}" />
                </StackPanel>
            </DataTemplate>
        </HierarchicalDataTemplate.ItemTemplate>

    </HierarchicalDataTemplate>

</ResourceDictionary>
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:vms="clr-namespace:RevitBatchPrint.ViewModels"
                    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/Wpf.Ui;component/Controls/Button/Button.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Style x:Key="ButtonStackPanel" TargetType="StackPanel">
        <Setter Property="Visibility" Value="Hidden" />

        <Style.Triggers>
            <Trigger Property="Visibility" Value="Visible">
                <Trigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation
                                Storyboard.TargetProperty="Opacity"
                                From="0.0" To="1.0" Duration="0:0:0.2" />
                        </Storyboard>
                    </BeginStoryboard>
                </Trigger.EnterActions>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style
        x:Key="TreeItemButtonStyle"
        TargetType="ui:Button"
        BasedOn="{StaticResource DefaultUiButtonStyle}">

        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderBrush" Value="Transparent" />
    </Style>

    <HierarchicalDataTemplate
        x:Key="TreeViewTemplate"
        DataType="{x:Type vms:AlbumViewModel}"
        ItemsSource="{Binding Path=FilteredSheets}">

        <Grid>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>


            <CheckBox
                Grid.Column="0"
                HorizontalAlignment="Stretch"
                IsChecked="{Binding IsSelected}">

                <StackPanel Orientation="Horizontal">
                    <ui:SymbolIcon
                        Margin="0,0,8,0"
                        Symbol="Document24" />

                    <ui:TextBlock Text="{Binding Name}" />
                </StackPanel>

                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="Click">
                        <b:InvokeCommandAction
                            Command="{Binding CheckCommand}" />
                    </b:EventTrigger>
                </b:Interaction.Triggers>
            </CheckBox>

            <StackPanel
                Grid.Column="1"
                x:Name="Buttons"
                Margin="0 0 12 0"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Style="{StaticResource ButtonStackPanel}">

                <ui:Button
                    Icon="{ui:SymbolIcon Print24}"
                    Style="{StaticResource TreeItemButtonStyle}" />

                <ui:Button
                    Icon="{ui:SymbolIcon DocumentPdf24}"
                    Style="{StaticResource TreeItemButtonStyle}" />
            </StackPanel>
        </Grid>

        <HierarchicalDataTemplate.Triggers>
            <DataTrigger
                Value="True"
                Binding="{Binding Path=IsMouseOver,
                    RelativeSource={RelativeSource AncestorType=TreeViewItem}}">
                <Setter TargetName="Buttons" Property="Visibility" Value="Visible" />
            </DataTrigger>
        </HierarchicalDataTemplate.Triggers>

    </HierarchicalDataTemplate>

</ResourceDictionary>
<core:WpfUIPlatformWindow
    x:Class="RevitRoomExtrusion.Views.ErrorWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:RevitRoomExtrusion.Views"
    xmlns:base="clr-namespace:dosymep.WPF.Views"
    mc:Ignorable="d"
    xmlns:core="clr-namespace:dosymep.WpfUI.Core"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:me="clr-namespace:dosymep.WpfCore.MarkupExtensions;assembly=dosymep.WpfCore"
    WindowStartupLocation="CenterScreen"
    Title="{DynamicResource ErrorWindow.Title}"
    Height="600"
    Width="1000"
    MinHeight="600"
    MinWidth="1000">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="CustomStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <ui:TextBlock
                x:Key="StaticWarning"
                Text="{me:LocalizationSource ErrorWindow.Warning}" />
            <ui:TextBlock
                x:Key="StaticTitle"
                Text="{me:LocalizationSource ErrorWindow.HeaderTitle}" />
            <ui:TextBlock
                x:Key="StaticNumber"
                Text="{me:LocalizationSource ErrorWindow.HeaderNumber}" />
            <ui:TextBlock
                x:Key="StaticLevel"
                Text="{me:LocalizationSource ErrorWindow.HeaderLevel}" />
            <ui:TextBlock
                x:Key="StaticTypeError"
                Text="{me:LocalizationSource ErrorWindow.HeaderTypeError}" />            
        </ResourceDictionary>        
    </Window.Resources>

    <Grid>        
        <Grid.RowDefinitions>
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="Auto" />
        </Grid.RowDefinitions>
        <ui:TitleBar
            Grid.Row="0"
            FontWeight="Bold"
            FontSize="14"
            Title="{me:LocalizationSource ErrorWindow.Title}" />
        <Label
            Grid.Row="1"
            Margin="30,0,0,5"
            Foreground="Orange"
            Content="{StaticResource StaticWarning}" />
        <Border
            Grid.Row="2"
            Style="{StaticResource CustomBorder}">                
            <ui:DataGrid
                Grid.Row="2"
                Margin="10,5,10,10"
                AutoGenerateColumns="False"
                IsReadOnly="True"
                Style="{StaticResource CustomResizableDataGridStyle}"
                ItemsSource="{Binding ErrorRooms}">
                <ui:DataGrid.Columns>
                    <DataGridTemplateColumn
                        Header="ID">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button
                                    Content="{Binding ElementId}"
                                    Command="{Binding DataContext.ShowElementCommand, 
                                    RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding ElementId}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTextColumn
                        Header="{StaticResource StaticTitle}"
                        Binding="{Binding RoomName}" />
                    <DataGridTextColumn
                        Header="{StaticResource StaticNumber}"
                        Binding="{Binding RoomNumber}" />
                    <DataGridTextColumn
                        Header="{StaticResource StaticLevel}"
                        Binding="{Binding LevelName}" />
                    <DataGridTextColumn
                        Header="{StaticResource StaticTypeError}"
                        Binding="{Binding ErrorDescription}" />
                </ui:DataGrid.Columns>
            </ui:DataGrid>
        </Border>
    </Grid >
</core:WpfUIPlatformWindow>
